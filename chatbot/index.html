<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://kit.fontawesome.com/0a2f08a53e.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="style.css">  
  <title>Chatbot</title>
 </head>
 <body>
  <div class="container-fluid">
    <div class="container">
    <div class="chat-bar-collapsible">
        <button id="chat-button" type="button" class="collapsible btn">
		   <img src="logohead.png" class="img-fluid float-left"><span class="text-left pr-3">Ask myHR</span>
			<i id="chat-icon"  class="fa-solid fa-heart pr-1 text-right" onclick="heartButton()"></i>
			<i id="chat-icon"  class="fa-solid fa-headset pr-1 text-right"></i>						
			<i id="chat-icon"  class="fa-solid fa-book-open pr-1 text-right"></i> 
			<i id="chat-icon"  class="fa-solid fa-volume-off pr-1 text-right"></i> 
			<i id="chat-icon"  class="fa-solid fa-rotate-right pr-1 text-right"></i>
			<i id="chat-icon"  class="fa-solid fa-xmark text-right"></i>
        </button>

        <div class="content">
            <div class="full-chat-block">
                <!-- Message Container -->
                <div class="outer-container">
                    <div class="chat-container">
                        <!-- Messages -->
                        <div id="chatbox">
                            <h5 id="chat-timestamp"></h5>
                            <p id="botStarterMessage" class="botText"><span>Loading...</span></p>
						<div id="newpostdiv">
                        <div id="newpost" class="p-3 m-3">
                            <img src="img1.jpg">
                            <h4>Heading</h4>
                            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p> 
                            <button class="btn text-white border border-white rounded-pill px-5"> Apply</button>
                        </div>
                        <div id="newpost2" class="p-3 m-3">  
                            <p class="mb-0">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p> 
                        </div>
						
                        <div id="newpost5" class="p-3 m-3"> 
							<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
							<div class="col-12 py-2 bgblack ">
							  <ol class="carousel-indicators  indicators">
								<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
								<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
								<li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
							  </ol>
							  <button class="carousel-control-prev" type="button" data-target="#carouselExampleIndicators" data-slide="prev">
								<span class="carousel-control-prev-icon" aria-hidden="true"></span>
								<span class="sr-only">Previous</span>
							  </button>
							  <button class="carousel-control-next" type="button" data-target="#carouselExampleIndicators" data-slide="next">
								<span class="carousel-control-next-icon" aria-hidden="true"></span>
								<span class="sr-only">Next</span>
							  </button>							  
							  </div>
							  <div class="carousel-inner">
								<div class="carousel-item active">
								  <div class="row mx-0 px-0">
								   <div class="col-12 p-3 bgblue">
								    <p class="text-center text-white my-auto">Product One</p>
								   </div>
								   <div class="col-12 px-0">
										<table class="table table-striped">
										  <tbody>
											<tr>
											  <td class="tbhead">Feature One</td>
											  <td class="tbpara">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</td>
											</tr>
											<tr>
											  <td class="tbhead">Feature Two</td>
											  <td class="tbpara">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</td>
											</tr>
											<tr>
											  <td class="tbhead">Feature Three</td>
											  <td class="tbpara">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</td>
											</tr>
										  </tbody>
										</table>
								   </div>
								  </div>
								</div>
								<div class="carousel-item">
								  <div class="row mx-0 px-0">
								   <div class="col-12 p-3 bgblue">
								    <p class="text-center text-white my-auto">Product Two</p>
								   </div>
								   <div class="col-12 px-0">
										<table class="table table-striped">
										  <tbody>
											<tr>
											  <td class="tbhead">Feature One</td>
											  <td class="tbpara">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</td>
											</tr>
											<tr>
											  <td class="tbhead">Feature Two</td>
											  <td class="tbpara">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</td>
											</tr>
											<tr>
											  <td class="tbhead">Feature Three</td>
											  <td class="tbpara">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</td>
											</tr>
										  </tbody>
										</table>
								   </div>
								  </div>
								</div>
								<div class="carousel-item">
								  <div class="row mx-0 px-0">
								   <div class="col-12 p-3 bgblue">
								    <p class="text-center text-white my-auto">Product Three</p>
								   </div>
								   <div class="col-12 px-0">
										<table class="table table-striped">
										  <tbody>
											<tr>
											  <td class="tbhead">Feature One</td>
											  <td class="tbpara">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</td>
											</tr>
											<tr>
											  <td class="tbhead">Feature Two</td>
											  <td class="tbpara">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</td>
											</tr>
											<tr>
											  <td class="tbhead">Feature Three</td>
											  <td class="tbpara">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</td>
											</tr>
										  </tbody>
										</table>
								   </div>
								  </div>
								</div>
							  </div>
							</div> 
                        </div>						
						
                        <div id="newpost3" class="p-3 m-3"> 
						    <h5 class="text-drak">Lorem Ipsum is simply dummy text</h5>
                            <p class="mb-0">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s <a href="https://www.google.com/" target="_blank">Read more</a></p> 
                        </div>
						<div id="newpost4" class="p-3 m-3"> 
						    <h5 class="text-drak">Lorem Ipsum is simply dummy text</h5>
                            <p class="mb-0">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s <a href="https://www.google.com/" target="_blank">Read more</a></p> 
                        </div>
						</div>	
                        </div>
						
                        <!-- User input box -->
                        <div class="chat-bar-input-block">						
                            <div id="userInput">
                                <input id="textInput" class="input-box" type="text" name="msg"
                                    placeholder="Ask something">
                                <p></p>
                            </div>

                            <div class="chat-bar-icons">
								<i id="chat-icon" class="fa-solid fa-paper-plane" onclick="sendButton()"></i>	
                            </div>
                        </div>

                        <div id="chat-bar-bottom">
                            <p class="mb-0">&#169 Powered by Congnicor</p>
                        </div>

                    </div>
                </div>

            </div>
        </div>

    </div>
    </div>
  </div>

  <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
 </body>
</html>

<script>
// Collapsible
var coll = document.getElementsByClassName("collapsible");
let div = document.getElementById("newpostdiv");
div.style.display = "none";
for (let i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function () {
        this.classList.toggle("active");

        var content = this.nextElementSibling;

        if (content.style.maxHeight) {
            content.style.maxHeight = null;
        } else {
            content.style.maxHeight = content.scrollHeight + "px";
        }

    });
}

function getTime() {
    let today = new Date();
    hours = today.getHours();
    minutes = today.getMinutes();

    if (hours < 10) {
        hours = "0" + hours;
    }

    if (minutes < 10) {
        minutes = "0" + minutes;
    }

    let time = hours + ":" + minutes;
    return time;
}

// Gets the first message
function firstBotMessage() {
    let firstMessage = "Hi"
    document.getElementById("botStarterMessage").innerHTML = '<p class="botText"><span>' + firstMessage + '</span></p>';

    let time = getTime();

    $("#chat-timestamp").append(time);
    document.getElementById("userInput").scrollIntoView(false);
	
}

firstBotMessage();

// Retrieves the response
function getHardResponse(userText) {
    let botResponse = getBotResponse(userText);
    let botHtml = '<p class="botText"><span>' + botResponse + '</span></p>';
    $("#chatbox").append(botHtml);

    document.getElementById("chat-bar-bottom").scrollIntoView(true);
}

//Gets the text text from the input box and processes it
function getResponse() {
    let userText = $("#textInput").val();

    if (userText =="") {
        userText = "How do I change my withholdings for my bonus?";
    }

    let userHtml = '<p class="userText"><span>' + userText + '</span></p>';

    $("#textInput").val("");
    $("#chatbox").append(userHtml);
    document.getElementById("chat-bar-bottom").scrollIntoView(true);

    setTimeout(() => {
        getHardResponse(userText);
    }, 1000)

}

// Handles sending text via button clicks
function buttonSendText(sampleText) {
    let userHtml = '<p class="userText"><span>' + sampleText + '</span></p>';

    $("#textInput").val("");
    $("#chatbox").append(userHtml);
    document.getElementById("chat-bar-bottom").scrollIntoView(true);

    //Uncomment this if you want the bot to respond to this buttonSendText event
     setTimeout(() => {
         getHardResponse(sampleText);
    }, 1000)
}

function sendButton() {
    getResponse();
}

function heartButton() {
    buttonSendText("Heart clicked!")
}

// Press enter to send a message
$("#textInput").keypress(function (e) {
    if (e.which == 13) {
        getResponse();
    }
}); 
function getBotResponse(input) {

    // Simple responses
    if (input == "hello") {
        return "Hello there!";
    } else if (input == "goodbye") {
        return "Talk to you later!";
    } else if (input == "How do I change my withholdings for my bonus?") {
        div.style.display = "block";
		$("#chatbox").append(div);
    } else {
        return "Please click on send button!";
    }
} 
</script>